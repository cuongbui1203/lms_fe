(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9210],{57878:function(e,t,a){Promise.resolve().then(a.bind(a,15782))},86144:function(e,t,a){"use strict";a.d(t,{FT:function(){return l}});var n=a(2265),r=a(57437);let o=["as","disabled"];function l({tagName:e,disabled:t,href:a,target:n,rel:r,role:o,onClick:l,tabIndex:s=0,type:i}){e||(e=null!=a||null!=n||null!=r?"a":"button");let c={tagName:e};if("button"===e)return[{type:i||"button",disabled:t},c];let u=n=>{var r;if(!t&&("a"!==e||(r=a)&&"#"!==r.trim())||n.preventDefault(),t){n.stopPropagation();return}null==l||l(n)};return"a"===e&&(a||(a="#"),t&&(a=void 0)),[{role:null!=o?o:"button",disabled:void 0,tabIndex:t?void 0:s,href:a,target:"a"===e?n:void 0,"aria-disabled":t||void 0,rel:"a"===e?r:void 0,onClick:u,onKeyDown:e=>{" "===e.key&&(e.preventDefault(),u(e))}},c]}let s=n.forwardRef((e,t)=>{let{as:a,disabled:n}=e,s=function(e,t){if(null==e)return{};var a,n,r={},o=Object.keys(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,o),[i,{tagName:c}]=l(Object.assign({tagName:a,disabled:n},s));return(0,r.jsx)(c,Object.assign({},s,i,{ref:t}))});s.displayName="Button",t.ZP=s},66879:function(e,t,a){"use strict";var n=a(16480),r=a.n(n),o=a(2265),l=a(86144),s=a(12865),i=a(57437);let c=o.forwardRef((e,t)=>{let{as:a,bsPrefix:n,variant:o="primary",size:c,active:u=!1,disabled:d=!1,className:f,...h}=e,p=(0,s.vE)(n,"btn"),[g,{tagName:m}]=(0,l.FT)({tagName:a,disabled:d,...h});return(0,i.jsx)(m,{...g,...h,ref:t,disabled:d,className:r()(f,p,u&&"active",o&&"".concat(p,"-").concat(o),c&&"".concat(p,"-").concat(c),h.href&&d&&"disabled")})});c.displayName="Button",t.Z=c},97753:function(e,t,a){"use strict";a.r(t);var n=a(16480),r=a.n(n),o=a(2265),l=a(12865),s=a(57437);let i=o.forwardRef((e,t)=>{let{bsPrefix:a,fluid:n=!1,as:o="div",className:i,...c}=e,u=(0,l.vE)(a,"container");return(0,s.jsx)(o,{ref:t,...c,className:r()(i,n?"".concat(u).concat("string"==typeof n?"-".concat(n):"-fluid"):u)})});i.displayName="Container",t.default=i},31314:function(e,t,a){"use strict";a.r(t),a.d(t,{propTypes:function(){return u}});var n=a(16480),r=a.n(n),o=a(2265),l=a(74404),s=a.n(l),i=a(12865),c=a(57437);let u={bsPrefix:s().string,fluid:s().bool,rounded:s().bool,roundedCircle:s().bool,thumbnail:s().bool},d=o.forwardRef((e,t)=>{let{bsPrefix:a,className:n,fluid:o=!1,rounded:l=!1,roundedCircle:s=!1,thumbnail:u=!1,...d}=e;return a=(0,i.vE)(a,"img"),(0,c.jsx)("img",{ref:t,...d,className:r()(n,o&&"".concat(a,"-fluid"),l&&"rounded",s&&"rounded-circle",u&&"".concat(a,"-thumbnail"))})});d.displayName="Image",t.default=d},55914:function(e,t,a){"use strict";a.r(t);var n=a(16480),r=a.n(n),o=a(2265),l=a(12865),s=a(57437);let i=o.forwardRef((e,t)=>{let{bsPrefix:a,className:n,as:o="div",...i}=e,c=(0,l.vE)(a,"row"),u=(0,l.pi)(),d=(0,l.zG)(),f="".concat(c,"-cols"),h=[];return u.forEach(e=>{let t;let a=i[e];delete i[e],null!=a&&"object"==typeof a?{cols:t}=a:t=a,null!=t&&h.push("".concat(f).concat(e!==d?"-".concat(e):"","-").concat(t))}),(0,s.jsx)(o,{ref:t,...i,className:r()(n,c,...h)})});i.displayName="Row",t.default=i},52697:function(e,t,a){"use strict";a.d(t,{y:function(){return r}});var n=a(89348);let r={getProvince:()=>n.ZP.get("api/address/provinces"),getDistrict:e=>n.ZP.get("api/address/districts?code=".concat(e),{cache:"force-cache"}),getWard:e=>n.ZP.get("api/address/wards?code=".concat(e),{cache:"force-cache"})}},56512:function(e,t,a){"use strict";a.d(t,{c:function(){return o}});var n=a(46701),r=a(89348);let o={getWorkPlateClient:(e,t)=>r.ZP.get("api/work-plates?pageSize=".concat(n.ud,"&&page=").concat(e,"&&type_id=").concat(t)),getWorkPlate:e=>r.ZP.get("api/work-plates",{headers:{Authorization:"Bearer ".concat(e)}}),getWorkPlateSuggestClient:e=>r.ZP.get("api/work-plates/suggestion-wp?address_id=".concat(e)),createWP:e=>r.ZP.post("api/work-plates",e),getDetailWorkPlate:(e,t)=>r.ZP.get("api/work-plates/".concat(t),{headers:{Authorization:"Bearer ".concat(e)}}),updateWP:(e,t)=>r.ZP.put("api/work-plates/".concat(e),t),deleteWP:e=>r.ZP.delete("api/work-plates/".concat(e))}},15782:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return m}});var n=a(57437),r=a(52697),o=a(68541),l=a(2265),s=a(97753),i=a(55914),c=a(80590),u=a(59853),d=a(66879),f=a(71703);function h(e){let{listWp:t}=e;return(0,n.jsxs)(s.default,{className:"lookUpContainer",style:{maxHeight:"300px",overflowY:"auto"},children:[(0,n.jsx)(i.default,{children:(0,n.jsx)(c.default,{children:(0,n.jsxs)("h3",{children:["Số lượng bưu cục: ",t.length]})})}),t.map((e,t)=>{var a,r,o,l;return(0,n.jsxs)(i.default,{className:"border-bottom mt-2",children:[(0,n.jsx)(i.default,{children:(0,n.jsxs)("h3",{children:["T\xean: ",null==e?void 0:e.name]})}),(0,n.jsx)(i.default,{children:(0,n.jsxs)("p",{children:["Địa chỉ: ",null==e?void 0:null===(a=e.address)||void 0===a?void 0:a.address,", ",null==e?void 0:null===(r=e.address)||void 0===r?void 0:r.ward,", ",null==e?void 0:null===(o=e.address)||void 0===o?void 0:o.district,","," ",null==e?void 0:null===(l=e.address)||void 0===l?void 0:l.province]})})]},t)})]})}var p=a(56512);function g(e){let{listProvince:t}=e,[a,o]=(0,l.useState)("0"),[g,m]=(0,l.useState)("0"),[v,x]=(0,l.useState)("0"),[P,N]=(0,l.useState)([]),j=e=>r.y.getDistrict(e).then(e=>e.payload.data),b=e=>r.y.getWard(e).then(e=>e.payload.data),{data:y,error:C,isLoading:w}=(0,f.Z)("0"===a?null:"api/address/districts?code=".concat(a),()=>j(a)),{data:k,error:_,isLoading:E}=(0,f.Z)("0"===g?null:"api/address/wards?code=".concat(g),()=>b(g)),T=e=>{o(e.target.value),m("0"),x("0")},D=e=>{m(e.target.value),x("0")},Z=async()=>{await p.c.getWorkPlateSuggestClient(v).then(e=>{N(e.payload.data)})};return(0,n.jsxs)("div",{children:[(0,n.jsx)(s.default,{className:"lookUpContainer",children:(0,n.jsxs)(i.default,{children:[(0,n.jsx)(c.default,{xs:"12",md:"6",className:"mt-2",children:(0,n.jsx)(u.Z,{children:(0,n.jsxs)(i.default,{children:[(0,n.jsxs)(u.Z.Select,{"aria-label":"Chọn Tỉnh/ TP",className:"selectContainer",onChange:e=>{T(e)},value:a,required:!0,children:[(0,n.jsx)("option",{disabled:!0,value:"0",children:"Chọn Tỉnh / TP"},"0"),t.map(e=>(0,n.jsx)("option",{value:e.code,children:e.full_name},e.code))]}),(0,n.jsxs)(u.Z.Select,{onChange:e=>{D(e)},value:g,required:!0,className:"selectContainer",children:[(0,n.jsx)("option",{disabled:!0,value:"0",children:"Chọn Quận/ Huyện"},"0"),null==y?void 0:y.map(e=>(0,n.jsx)("option",{value:e.code,children:e.full_name},e.code))]}),(0,n.jsxs)(u.Z.Select,{"aria-label":"Chọn X\xe3/ Phường",className:"selectContainer",onChange:e=>{x(e.target.value)},value:v,required:!0,children:[(0,n.jsx)("option",{disabled:!0,value:"0",children:"Chọn phường x\xe3"},"0"),null==k?void 0:k.map(e=>(0,n.jsx)("option",{value:e.code,children:e.full_name},e.code))]}),(0,n.jsx)(d.Z,{className:"submitButton",onClick:Z,children:"TRA CỨU"})]})})}),(0,n.jsx)(c.default,{className:"mapContainer mt-2",md:"6",xs:"12",children:(0,n.jsx)("iframe",{src:"https://www.google.com/maps/d/u/0/embed?mid=1VCEMjR_Ldo68vk5FiAWGf_7oV5r9PE8&ehbc=2E312F",width:"630",height:"350",className:"map"})})]})}),(0,n.jsx)(h,{listWp:P})]})}async function m(){let e=await r.y.getProvince();return(0,n.jsxs)("div",{children:[(0,n.jsx)(o.Z,{title:"TRA CỨU BƯU CỤC"}),(0,n.jsx)(g,{listProvince:e.payload.data})]})}},68541:function(e,t,a){"use strict";a.d(t,{Z:function(){return i}});var n=a(57437),r=a(97753),o=a(55914),l=a(80590),s=a(31314);function i(e){let{title:t}=e;return(0,n.jsx)(r.default,{className:"lookUpBanner",children:(0,n.jsxs)(o.default,{children:[(0,n.jsx)(l.default,{md:5,xl:6,xxl:5,className:"itemBanner",children:(0,n.jsx)("h1",{children:t})}),(0,n.jsx)(l.default,{md:7,xl:6,xxl:7,className:"itemBanner",children:(0,n.jsx)(s.default,{src:"/look-up-banner.png",alt:"look-up-banner",className:"w-75"})})]})})}},46701:function(e,t,a){"use strict";a.d(t,{Ii:function(){return n},LL:function(){return o},ud:function(){return r}});let n=5,r=10,o=10},2261:function(e,t,a){"use strict";var n=a(30248);let r=n.z.object({NEXT_PUBLIC_COMPANY_NAME:n.z.string(),NEXT_PUBLIC_API_ENDPOINT:n.z.string(),NEXT_PUBLIC_COMPANY_DESCRIPTION:n.z.string()}).safeParse({NEXT_PUBLIC_COMPANY_NAME:"Giao hang GTK",NEXT_PUBLIC_API_ENDPOINT:"http://localhost:8000",NEXT_PUBLIC_COMPANY_DESCRIPTION:"Company Description"});if(!r.success)throw console.error(r.error.issues),Error("C\xe1c gi\xe1 trị khai b\xe1o trong file .env kh\xf4ng hợp lệ");let o=r.data;t.Z=o},89348:function(e,t,a){"use strict";a.d(t,{Xs:function(){return i}});var n=a(2261),r=a(22169),o=a(47907),l=a(86123);class s extends Error{constructor({status:e,payload:t}){super("Http Error"),this.status=e,this.payload=t}}class i extends s{constructor({status:e,payload:t}){super({status:e,payload:t}),this.status=e,this.payload=t}}let c=()=>!0,u=null,d=async(e,t,a)=>{let d;(null==a?void 0:a.body)instanceof FormData?d=a.body:(null==a?void 0:a.body)&&(d=JSON.stringify(a.body));let f=d instanceof FormData?{}:{"Content-Type":"application/json"};if(c()){let e=localStorage.getItem("token");e&&(f.Authorization="Bearer ".concat(e))}let h=(null==a?void 0:a.baseUrl)===void 0?n.Z.NEXT_PUBLIC_API_ENDPOINT:a.baseUrl,p=t.startsWith("/")?"".concat(h).concat(t):"".concat(h,"/").concat(t),g=await fetch(p,{...a,headers:{...f,...null==a?void 0:a.headers},body:d,method:e}),m=await g.json(),v={status:g.status,payload:m};if(!g.ok){if(422===g.status)throw new i(v);if(401===g.status){if(c()){if(!u){u=fetch("/api/auth/logout",{method:"POST",body:JSON.stringify({force:!0}),headers:{...f}});try{await u}catch(e){}finally{localStorage.removeItem("token"),u=null,location.href="/login"}}}else{var x;let e=null==a?void 0:null===(x=a.headers)||void 0===x?void 0:x.Authorization.split("Bearer ")[1];(0,o.redirect)("/logout?token=".concat(e))}}else if(403===g.status)console.log("Forbidden error"),location.href="/",l.toast.error("Kh\xf4ng c\xf3 quyền truy cập");else throw new s(v)}if(c()){if("api/users/login"===(0,r.AH)(t)){let{token:e}=m.data;localStorage.setItem("token",e)}else"api/auth/logout"===(0,r.AH)(t)&&localStorage.removeItem("token")}return v};t.ZP={get:(e,t)=>d("GET",e,t),post:(e,t,a)=>d("POST",e,{...a,body:t}),put:(e,t,a)=>d("PUT",e,{...a,body:t}),delete:(e,t)=>d("DELETE",e,{...t})}},22169:function(e,t,a){"use strict";a.d(t,{AH:function(){return d},Ft:function(){return g},Qe:function(){return h},Xc:function(){return m},ZH:function(){return f},jg:function(){return u},o0:function(){return p},p6:function(){return c}});var n=a(42151),r=a.n(n),o=a(89348),l=a(86123),s=a(89539),i=a.n(s);function c(e){return new Date(r()(e).format("YYYY-MM-DD").replace(/-/g,""))}let u=(e,t)=>t<=7?Array.from({length:t},(e,t)=>t+1):e<=3?[1,2,3,"...",t-1,t]:e>=t-2?[1,2,"...",t-2,t-1,t]:[1,"...",e-1,e,e+1,"...",t],d=e=>e.startsWith("/")?e.slice(1):e,f=e=>{let{error:t,setError:a,message:n,duration:r}=e;t instanceof o.Xs&&a?t.payload.error.forEach(e=>{a(e.field,{type:"manual",message:e.message[0]})}):l.toast.error(n||t.payload.message||"Y\xeau cầu thất bại!",{autoClose:r||3e3})},h=e=>e?i()(e).format("YYYY-MM-DD"):"",p=e=>e?i()(e).format("HH:mm DD-MM-YYYY"):"";function g(e){let t=new Date(1e3*e);return"".concat(t.getDate(),"/").concat(t.getMonth()+1,"/").concat(t.getFullYear())}function m(e){let t=new Date(1e3*e);return"".concat(t.getDate(),"/").concat(t.getMonth()+1,"/").concat(t.getFullYear()," ").concat(t.getHours(),":").concat(t.getMinutes())}}},function(e){e.O(0,[6990,248,6123,4838,4898,1703,2971,8069,1744],function(){return e(e.s=57878)}),_N_E=e.O()}]);