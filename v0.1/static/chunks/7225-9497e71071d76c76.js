"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7225],{66879:function(t,e,n){var r=n(16480),i=n.n(r),a=n(2265),s=n(86144),o=n(12865),u=n(57437);let c=a.forwardRef((t,e)=>{let{as:n,bsPrefix:r,variant:a="primary",size:c,active:l=!1,disabled:P=!1,className:d,...Z}=t,g=(0,o.vE)(r,"btn"),[m,{tagName:p}]=(0,s.FT)({tagName:n,disabled:P,...Z});return(0,u.jsx)(p,{...m,...Z,ref:e,disabled:P,className:i()(d,g,l&&"active",a&&"".concat(g,"-").concat(a),c&&"".concat(g,"-").concat(c),Z.href&&P&&"disabled")})});c.displayName="Button",e.Z=c},73537:function(t,e,n){n.d(e,{Z:function(){return d}});var r=n(16480),i=n.n(r),a=n(2265),s=n(12865),o=n(66183),u=n(41805),c=n(57437);let l=a.forwardRef((t,e)=>{let{className:n,bsPrefix:r,as:a="span",...o}=t;return r=(0,s.vE)(r,"input-group-text"),(0,c.jsx)(a,{ref:e,className:i()(n,r),...o})});l.displayName="InputGroupText";let P=a.forwardRef((t,e)=>{let{bsPrefix:n,size:r,hasValidation:o,className:l,as:P="div",...d}=t;n=(0,s.vE)(n,"input-group");let Z=(0,a.useMemo)(()=>({}),[]);return(0,c.jsx)(u.Z.Provider,{value:Z,children:(0,c.jsx)(P,{ref:e,...d,className:i()(l,n,r&&"".concat(n,"-").concat(r),o&&"has-validation")})})});P.displayName="InputGroup";var d=Object.assign(P,{Text:l,Radio:t=>(0,c.jsx)(l,{children:(0,c.jsx)(o.Z,{type:"radio",...t})}),Checkbox:t=>(0,c.jsx)(l,{children:(0,c.jsx)(o.Z,{type:"checkbox",...t})})})},41805:function(t,e,n){let r=n(2265).createContext(null);r.displayName="InputGroupContext",e.Z=r},65588:function(t,e,n){var r=n(89348);e.Z={login:t=>r.ZP.post("api/users/login",t),register:t=>r.ZP.post("api/users",t),auth:t=>r.ZP.post("api/auth",t,{baseUrl:""}),logoutFromNextServerToServer:t=>r.ZP.delete("api/users/me",{headers:{Authorization:"Bearer ".concat(t)}}),logoutFromNextClientToNextServer:(t,e)=>r.ZP.post("/api/auth/logout",{force:t},{baseUrl:"",signal:e}),updateUserClient:(t,e)=>r.ZP.put("api/users/".concat(e),t),updateEmployee:(t,e)=>r.ZP.put("api/users/".concat(e),t),getCsrfTokenClient:()=>r.ZP.get("/sanctum/csrf-cookie"),forgotPassword:t=>r.ZP.post("api/users/forgot-password",t),resetPassword:t=>r.ZP.post("api/users/reset-password",t)}},2261:function(t,e,n){var r=n(30248);let i=r.z.object({NEXT_PUBLIC_COMPANY_NAME:r.z.string(),NEXT_PUBLIC_API_ENDPOINT:r.z.string(),NEXT_PUBLIC_COMPANY_DESCRIPTION:r.z.string()}).safeParse({NEXT_PUBLIC_COMPANY_NAME:"Giao hang GTK",NEXT_PUBLIC_API_ENDPOINT:"http://localhost:8000",NEXT_PUBLIC_COMPANY_DESCRIPTION:"Company Description"});if(!i.success)throw console.error(i.error.issues),Error("C\xe1c gi\xe1 trị khai b\xe1o trong file .env kh\xf4ng hợp lệ");let a=i.data;e.Z=a},89348:function(t,e,n){n.d(e,{Xs:function(){return u}});var r=n(2261),i=n(22169),a=n(47907),s=n(86123);class o extends Error{constructor({status:t,payload:e}){super("Http Error"),this.status=t,this.payload=e}}class u extends o{constructor({status:t,payload:e}){super({status:t,payload:e}),this.status=t,this.payload=e}}let c=()=>!0,l=null,P=async(t,e,n)=>{let P;(null==n?void 0:n.body)instanceof FormData?P=n.body:(null==n?void 0:n.body)&&(P=JSON.stringify(n.body));let d=P instanceof FormData?{}:{"Content-Type":"application/json"};if(c()){let t=localStorage.getItem("token");t&&(d.Authorization="Bearer ".concat(t))}let Z=(null==n?void 0:n.baseUrl)===void 0?r.Z.NEXT_PUBLIC_API_ENDPOINT:n.baseUrl,g=e.startsWith("/")?"".concat(Z).concat(e):"".concat(Z,"/").concat(e),m=await fetch(g,{...n,headers:{...d,...null==n?void 0:n.headers},body:P,method:t}),p=await m.json(),b={status:m.status,payload:p};if(!m.ok){if(422===m.status)throw new u(b);if(401===m.status){if(c()){if(!l){l=fetch("/api/auth/logout",{method:"POST",body:JSON.stringify({force:!0}),headers:{...d}});try{await l}catch(t){}finally{localStorage.removeItem("token"),l=null,location.href="/login"}}}else{var f;let t=null==n?void 0:null===(f=n.headers)||void 0===f?void 0:f.Authorization.split("Bearer ")[1];(0,a.redirect)("/logout?token=".concat(t))}}else if(403===m.status)console.log("Forbidden error"),location.href="/",s.toast.error("Kh\xf4ng c\xf3 quyền truy cập");else throw new o(b)}if(c()){if("api/users/login"===(0,i.AH)(e)){let{token:t}=p.data;localStorage.setItem("token",t)}else"api/auth/logout"===(0,i.AH)(e)&&localStorage.removeItem("token")}return b};e.ZP={get:(t,e)=>P("GET",t,e),post:(t,e,n)=>P("POST",t,{...n,body:e}),put:(t,e,n)=>P("PUT",t,{...n,body:e}),delete:(t,e)=>P("DELETE",t,{...e})}},22169:function(t,e,n){n.d(e,{AH:function(){return P},Ft:function(){return m},Qe:function(){return Z},Xc:function(){return p},ZH:function(){return d},jg:function(){return l},o0:function(){return g},p6:function(){return c}});var r=n(42151),i=n.n(r),a=n(89348),s=n(86123),o=n(89539),u=n.n(o);function c(t){return new Date(i()(t).format("YYYY-MM-DD").replace(/-/g,""))}let l=(t,e)=>e<=7?Array.from({length:e},(t,e)=>e+1):t<=3?[1,2,3,"...",e-1,e]:t>=e-2?[1,2,"...",e-2,e-1,e]:[1,"...",t-1,t,t+1,"...",e],P=t=>t.startsWith("/")?t.slice(1):t,d=t=>{let{error:e,setError:n,message:r,duration:i}=t;e instanceof a.Xs&&n?e.payload.error.forEach(t=>{n(t.field,{type:"manual",message:t.message[0]})}):s.toast.error(r||e.payload.message||"Y\xeau cầu thất bại!",{autoClose:i||3e3})},Z=t=>t?u()(t).format("YYYY-MM-DD"):"",g=t=>t?u()(t).format("HH:mm DD-MM-YYYY"):"";function m(t){let e=new Date(1e3*t);return"".concat(e.getDate(),"/").concat(e.getMonth()+1,"/").concat(e.getFullYear())}function p(t){let e=new Date(1e3*t);return"".concat(e.getDate(),"/").concat(e.getMonth()+1,"/").concat(e.getFullYear()," ").concat(e.getHours(),":").concat(e.getMinutes())}},74234:function(t,e,n){n.d(e,{DP:function(){return r},QA:function(){return a},SO:function(){return i}});let r="/",i="/dashboard",a="/login"},5054:function(t,e,n){n.d(e,{$T:function(){return u},CL:function(){return d},CS:function(){return o},UJ:function(){return P},XU:function(){return Z},Xm:function(){return a},Ym:function(){return c},sL:function(){return l},wU:function(){return s}});var r=n(69375),i=n(30248);let a=i.ZP.object({name:i.ZP.string().trim().min(2).max(256),username:i.ZP.string().trim().min(2).max(256),email:i.ZP.string().email(),password:i.ZP.string().min(6,"Mật khẩu phải c\xf3 độ d\xe0i tối thiểu l\xe0 6").max(100),password_confirmation:i.ZP.string().min(6,"Mật khẩu phải c\xf3 độ d\xe0i tối thiểu l\xe0 6").max(100)}).strict().superRefine((t,e)=>{let{password_confirmation:n,password:r}=t;n!==r&&e.addIssue({code:"custom",message:"Mật khẩu kh\xf4ng khớp",path:["password_confirmation"]})}),s=i.ZP.object({username:i.ZP.string(),password:i.ZP.string().min(1,"Mật khẩu phải c\xf3 \xedt nhất 1 k\xed tự.").max(100)}).strict();i.ZP.object({success:i.ZP.boolean(),data:i.ZP.object({user:r.c2,token:i.ZP.string(),csrf_token:i.ZP.string()}),message:i.ZP.string()});let o=i.ZP.object({token:i.ZP.string(),csrf_token:i.ZP.string(),id:i.ZP.number()}),u=i.ZP.object({name:i.ZP.string().trim().min(2).max(256),dob:i.ZP.string(),email:i.ZP.string().email(),phone:i.ZP.string(),address_id:i.ZP.string(),image:i.ZP.string().optional()}),c=i.ZP.object({name:i.ZP.string(),email:i.ZP.string(),phone:i.ZP.string(),dob:i.ZP.string().nullable(),username:i.ZP.string(),address_id:i.ZP.string(),role_id:i.ZP.number(),wp_id:i.ZP.coerce.number(),img_id:i.ZP.string().optional()}),l=i.ZP.object({name:i.ZP.string(),email:i.ZP.string(),password:i.ZP.string(),phone:i.ZP.string(),dob:i.ZP.string().nullable(),username:i.ZP.string(),address_id:i.ZP.string(),role_id:i.ZP.number(),wp_id:i.ZP.string().optional(),img_id:i.ZP.string().optional()});i.ZP.object({success:i.ZP.boolean(),data:r.c2,message:i.ZP.string()}),i.ZP.object({success:i.ZP.boolean(),data:i.ZP.object({total:i.ZP.number(),currentPage:i.ZP.number(),pageSize:i.ZP.number(),data:i.ZP.array(r.c2)}),message:i.ZP.string()});let P=i.ZP.object({old_password:i.ZP.string(),new_password:i.ZP.string().min(6,"Mật khẩu phải c\xf3 độ d\xe0i tối thiểu l\xe0 6").max(100),new_password_confirmation:i.ZP.string().min(6,"Mật khẩu phải c\xf3 độ d\xe0i tối thiểu l\xe0 6").max(100)}).strict().superRefine((t,e)=>{let{new_password_confirmation:n,new_password:r}=t;n!==r&&e.addIssue({code:"custom",message:"Mật khẩu kh\xf4ng khớp",path:["new_password_confirmation"]})}),d=i.ZP.object({email:i.ZP.string().email()}),Z=i.ZP.object({email:i.ZP.string().email(),token:i.ZP.string().optional(),password:i.ZP.string().min(6,"Mật khẩu phải c\xf3 độ d\xe0i tối thiểu l\xe0 6").max(100),password_confirmation:i.ZP.string().min(6,"Mật khẩu phải c\xf3 độ d\xe0i tối thiểu l\xe0 6").max(100)})},69375:function(t,e,n){n.d(e,{$5:function(){return c},Kn:function(){return a},c2:function(){return o}});var r=n(30248);r.ZP.object({success:r.ZP.boolean(),message:r.ZP.string()}).strict();let i=r.ZP.object({provinceCode:r.ZP.string(),districtCode:r.ZP.string(),wardCode:r.ZP.string(),province:r.ZP.string(),district:r.ZP.string(),ward:r.ZP.string(),address:r.ZP.string().optional()});r.ZP.object({code:r.ZP.string(),name:r.ZP.string(),name_en:r.ZP.string(),full_name:r.ZP.string(),full_name_en:r.ZP.string(),code_name:r.ZP.string()});let a=r.ZP.object({id:r.ZP.number(),name:r.ZP.string(),address_id:r.ZP.string(),type_id:r.ZP.number(),cap:r.ZP.number(),created_at:r.ZP.string(),updated_at:r.ZP.string(),address:i,manager:r.ZP.object({id:r.ZP.number(),name:r.ZP.string(),address:r.ZP.string().nullable()}),type:r.ZP.object({id:r.ZP.number(),name:r.ZP.string(),for:r.ZP.number()}),detail:r.ZP.null()}),s=r.ZP.object({id:r.ZP.number(),name:r.ZP.string(),desc:r.ZP.string(),created_at:r.ZP.string(),updated_at:r.ZP.string()}),o=r.ZP.object({id:r.ZP.number(),name:r.ZP.string(),email:r.ZP.string(),email_verified_at:r.ZP.string().nullable(),created_at:r.ZP.number().nullable(),updated_at:r.ZP.number().nullable(),phone:r.ZP.string().nullable(),dob:r.ZP.date().nullable(),username:r.ZP.string(),address:i,role_id:r.ZP.number(),wp_id:r.ZP.number().nullable(),img_id:r.ZP.string().nullable(),role:s,work_plate:a.nullable(),img:r.ZP.string().nullable()}),u=r.ZP.object({id:r.ZP.number(),created_at:r.ZP.string(),updated_at:r.ZP.string(),order_id:r.ZP.number(),name:r.ZP.string(),mass:r.ZP.number(),desc:r.ZP.string(),image_link:r.ZP.string().nullable()}),c=r.ZP.object({id:r.ZP.number(),sender_name:r.ZP.string(),sender_phone:r.ZP.string(),receiver_name:r.ZP.string(),receiver_phone:r.ZP.string(),created_at:r.ZP.number(),updated_at:r.ZP.number(),vehicle_id:r.ZP.number().nullable(),type_id:r.ZP.number(),status_id:r.ZP.number(),mass:r.ZP.number(),sender_address:i,receiver_address:i,type:r.ZP.object({id:r.ZP.number(),name:r.ZP.string(),for:r.ZP.number().optional()}),notifications:r.ZP.array(r.ZP.object({id:r.ZP.number(),order_id:r.ZP.number(),from_id:r.ZP.number(),to_id:r.ZP.number(),status_id:r.ZP.number(),description:r.ZP.string(),created_at:r.ZP.string(),updated_at:r.ZP.string(),from_address:i,to_address:i})),details:r.ZP.array(u),created_by:r.ZP.object({id:r.ZP.number(),name:r.ZP.string()})});r.ZP.object({success:r.ZP.boolean(),data:r.ZP.object({total:r.ZP.number()})})}}]);