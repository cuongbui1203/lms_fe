(()=>{var e={};e.id=5805,e.ids=[5805],e.modules={47849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},71017:e=>{"use strict";e.exports=require("path")},57310:e=>{"use strict";e.exports=require("url")},81546:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>n.a,__next_app__:()=>d,originalPathname:()=>p,pages:()=>c,routeModule:()=>g,tree:()=>u});var s=r(50482),a=r(69108),o=r(62563),n=r.n(o),i=r(68300),l={};for(let e in i)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>i[e]);r.d(t,l);let u=["",{children:["logout",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,67908)),"D:\\lap_trinh\\lms_fe_release\\src\\app\\logout\\page.tsx"]}]},{metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,73881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(r.bind(r,37)),"D:\\lap_trinh\\lms_fe_release\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,69361,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,73881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],c=["D:\\lap_trinh\\lms_fe_release\\src\\app\\logout\\page.tsx"],p="/logout/page",d={require:r,loadChunk:()=>Promise.resolve()},g=new s.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/logout/page",pathname:"/logout",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:u}})},7193:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,2583,23)),Promise.resolve().then(r.t.bind(r,26840,23)),Promise.resolve().then(r.t.bind(r,38771,23)),Promise.resolve().then(r.t.bind(r,13225,23)),Promise.resolve().then(r.t.bind(r,9295,23)),Promise.resolve().then(r.t.bind(r,43982,23))},93336:(e,t,r)=>{Promise.resolve().then(r.bind(r,69697)),Promise.resolve().then(r.bind(r,12772)),Promise.resolve().then(r.bind(r,77535))},5982:(e,t,r)=>{Promise.resolve().then(r.bind(r,90925))},19394:(e,t,r)=>{"use strict";r.d(t,{Z:()=>a});var s=r(68356);let a={login:e=>s.ZP.post("api/users/login",e),register:e=>s.ZP.post("api/users",e),auth:e=>s.ZP.post("api/auth",e,{baseUrl:""}),logoutFromNextServerToServer:e=>s.ZP.delete("api/users/me",{headers:{Authorization:`Bearer ${e}`}}),logoutFromNextClientToNextServer:(e,t)=>s.ZP.post("/api/auth/logout",{force:e},{baseUrl:"",signal:t}),updateUserClient:(e,t)=>s.ZP.put(`api/users/${t}`,e),updateEmployee:(e,t)=>s.ZP.put(`api/users/${t}`,e),getCsrfTokenClient:()=>s.ZP.get("/sanctum/csrf-cookie"),forgotPassword:e=>s.ZP.post("api/users/forgot-password",e),resetPassword:e=>s.ZP.post("api/users/reset-password",e)}},12772:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>i,useAppContext:()=>n});var s=r(95344),a=r(3729);let o=(0,a.createContext)({user:null,setUser:()=>{},isAuthenticated:!1}),n=()=>(0,a.useContext)(o);function i({children:e}){let[t,r]=(0,a.useState)(null),n=(0,a.useCallback)(e=>{r(e),localStorage.setItem("user",JSON.stringify(e))},[r]);return(0,a.useEffect)(()=>{let e=localStorage.getItem("user");r(e?JSON.parse(e):null)},[r]),s.jsx(o.Provider,{value:{user:t,setUser:n,isAuthenticated:!!t},children:e})}},90925:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>u});var s=r(95344),a=r(19394),o=r(12772),n=r(8428),i=r(3729);function l(){let e=(0,n.useRouter)(),t=(0,n.usePathname)(),{setUser:r}=(0,o.useAppContext)(),l=(0,n.useSearchParams)().get("token");return(0,i.useEffect)(()=>{let s=new AbortController,o=s.signal;return l===localStorage.getItem("token")&&a.Z.logoutFromNextClientToNextServer(!0,o).then(s=>{r(null),e.push(`/login?redirectFrom=${t}`)}),()=>{s.abort()}},[l,e,t,r]),s.jsx("div",{children:"page"})}function u(){return s.jsx(i.Suspense,{children:s.jsx(l,{})})}},77535:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>a});var s=r(3729);function a(){return(0,s.useEffect)(()=>{r(42525)},[]),null}},42862:(e,t,r)=>{"use strict";r.d(t,{Z:()=>o});var s=r(29709);let a=s.z.object({NEXT_PUBLIC_COMPANY_NAME:s.z.string(),NEXT_PUBLIC_API_ENDPOINT:s.z.string(),NEXT_PUBLIC_COMPANY_DESCRIPTION:s.z.string()}).safeParse({NEXT_PUBLIC_COMPANY_NAME:"Giao hang GTK",NEXT_PUBLIC_API_ENDPOINT:"http://localhost:8000",NEXT_PUBLIC_COMPANY_DESCRIPTION:"Company Description"});if(!a.success)throw console.error(a.error.issues),Error("C\xe1c gi\xe1 trị khai b\xe1o trong file .env kh\xf4ng hợp lệ");let o=a.data},68356:(e,t,r)=>{"use strict";r.d(t,{Xs:()=>i,ZP:()=>p});var s=r(42862),a=r(11453),o=r(8428);r(69697);class n extends Error{constructor({status:e,payload:t}){super("Http Error"),this.status=e,this.payload=t}}class i extends n{constructor({status:e,payload:t}){super({status:e,payload:t}),this.status=e,this.payload=t}}let l=()=>!1,u=null,c=async(e,t,r)=>{let c;r?.body instanceof FormData?c=r.body:r?.body&&(c=JSON.stringify(r.body));let p=c instanceof FormData?{}:{"Content-Type":"application/json"};if(l()){let e=localStorage.getItem("token");e&&(p.Authorization=`Bearer ${e}`)}let d=r?.baseUrl===void 0?s.Z.NEXT_PUBLIC_API_ENDPOINT:r.baseUrl,g=t.startsWith("/")?`${d}${t}`:`${d}/${t}`,h=await fetch(g,{...r,headers:{...p,...r?.headers},body:c,method:e}),P=await h.json(),_={status:h.status,payload:P};if(!h.ok){if(422===h.status)throw new i(_);if(401===h.status){if(l()){if(!u){u=fetch("/api/auth/logout",{method:"POST",body:JSON.stringify({force:!0}),headers:{...p}});try{await u}catch(e){}finally{localStorage.removeItem("token"),u=null,location.href="/login"}}}else{let e=r?.headers?.Authorization.split("Bearer ")[1];(0,o.redirect)(`/logout?token=${e}`)}}else if(403===h.status)console.log("Forbidden error"),(0,o.redirect)("/");else throw new n(_)}if(l()){if("api/users/login"===(0,a.AH)(t)){let{token:e}=P.data;localStorage.setItem("token",e)}else"api/auth/logout"===(0,a.AH)(t)&&localStorage.removeItem("token")}return _},p={get:(e,t)=>c("GET",e,t),post:(e,t,r)=>c("POST",e,{...r,body:t}),put:(e,t,r)=>c("PUT",e,{...r,body:t}),delete:(e,t)=>c("DELETE",e,{...t})}},11453:(e,t,r)=>{"use strict";r.d(t,{AH:()=>p,Ft:()=>P,Qe:()=>g,Xc:()=>_,ZH:()=>d,jg:()=>c,o0:()=>h,p6:()=>u});var s=r(77030),a=r.n(s),o=r(68356),n=r(69697),i=r(48869),l=r.n(i);function u(e){return new Date(a()(e).format("YYYY-MM-DD").replace(/-/g,""))}let c=(e,t)=>t<=7?Array.from({length:t},(e,t)=>t+1):e<=3?[1,2,3,"...",t-1,t]:e>=t-2?[1,2,"...",t-2,t-1,t]:[1,"...",e-1,e,e+1,"...",t],p=e=>e.startsWith("/")?e.slice(1):e,d=({error:e,setError:t,message:r,duration:s})=>{e instanceof o.Xs&&t?e.payload.error.forEach(e=>{t(e.field,{type:"manual",message:e.message[0]})}):n.toast.error(r||e.payload.message||"Y\xeau cầu thất bại!",{autoClose:s||3e3})},g=e=>e?l()(e).format("YYYY-MM-DD"):"",h=e=>e?l()(e).format("HH:mm DD-MM-YYYY"):"";function P(e){let t=new Date(1e3*e);return`${t.getDate()}/${t.getMonth()+1}/${t.getFullYear()}`}function _(e){let t=new Date(1e3*e);return`${t.getDate()}/${t.getMonth()+1}/${t.getFullYear()} ${t.getHours()}:${t.getMinutes()}`}},37:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>f,metadata:()=>m});var s=r(25036),a=r(3480),o=r.n(a),n=r(86843);let i=(0,n.createProxy)(String.raw`D:\lap_trinh\lms_fe_release\src\components\bootstrap-client.tsx`),{__esModule:l,$$typeof:u}=i,c=i.default;var p=r(27928);let d=(0,n.createProxy)(String.raw`D:\lap_trinh\lms_fe_release\src\app\app-provider.tsx`),{__esModule:g,$$typeof:h}=d,P=d.default;(0,n.createProxy)(String.raw`D:\lap_trinh\lms_fe_release\src\app\app-provider.tsx#useAppContext`);var _=r(23222);r(5023),r(47453),r(97001);let m={title:p.Z.NEXT_PUBLIC_COMPANY_NAME||"Next.js App",description:p.Z.NEXT_PUBLIC_COMPANY_DESCRIPTION};async function f({children:e}){return s.jsx("html",{lang:"en",suppressHydrationWarning:!0,children:(0,s.jsxs)("body",{className:`${o().className} antialiased`,children:[s.jsx(P,{children:e}),s.jsx(_.Ix,{}),s.jsx(c,{})]})})}},67908:(e,t,r)=>{"use strict";r.r(t),r.d(t,{$$typeof:()=>o,__esModule:()=>a,default:()=>n});let s=(0,r(86843).createProxy)(String.raw`D:\lap_trinh\lms_fe_release\src\app\logout\page.tsx`),{__esModule:a,$$typeof:o}=s,n=s.default},27928:(e,t,r)=>{"use strict";r.d(t,{Z:()=>o});var s=r(82196);let a=s.z.object({NEXT_PUBLIC_COMPANY_NAME:s.z.string(),NEXT_PUBLIC_API_ENDPOINT:s.z.string(),NEXT_PUBLIC_COMPANY_DESCRIPTION:s.z.string()}).safeParse({NEXT_PUBLIC_COMPANY_NAME:"Giao hang GTK",NEXT_PUBLIC_API_ENDPOINT:"http://localhost:8000",NEXT_PUBLIC_COMPANY_DESCRIPTION:"Company Description"});if(!a.success)throw console.error(a.error.issues),Error("C\xe1c gi\xe1 trị khai b\xe1o trong file .env kh\xf4ng hợp lệ");let o=a.data},73881:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>a});var s=r(70337);let a=e=>[{type:"image/x-icon",sizes:"16x16",url:(0,s.fillMetadataSegment)(".",e.params,"favicon.ico")+""}]},5023:()=>{}};var t=require("../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[1638,4595,5996,6747],()=>r(81546));module.exports=s})();